{"version":3,"sources":["webpack:///./src/App.vue?ed78","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Eliminate.vue","webpack:///./src/components/Eliminate.vue?baba","webpack:///./src/components/Eliminate.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Eliminate","init","_this","index","needCleanBlock","length","blockColors","_iteratorNormalCompletion","_step","value","_iteratorNormalCompletion2","key","_step2","col","i","colors","_this2","components_Eliminate","_vm","staticClass","_l","row","class","on","click","$event","cleanBlock","_v","staticStyle","margin-top","line-height","_s","source","src_components_Eliminate","Eliminate_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","name","component","config","productionTip","el","components","App","template"],"mappings":"0IAGAA,GADiBC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,oBCCjB,IAuBAC,EAvBAC,EAAA,OAcAC,OCRA,ODUAZ,GATA,EAVA,SAAAa,GACAF,EAAA,SAaA,KAEA,MAUA,mFEHAG,QAEA,iEAGA,gDAEA,gBAEA,4BAGAC,wCAGA,IAAAC,EAAAb,wBACAc,kFAIAA,qEAGAC,2CACAC,SAEA,8CAGAC,aADAC,GAAA,sEAEAC,EAAAC,OACA,yGAEAH,iBACAF,0BAEA,IAAAM,GAAA,oEACA,IAAAC,EAAAC,EAAAH,8BACAE,0HAGA,wCAGAE,gBACAA,oBACA,8CAGAR,2CAEAS,kBACAA,+DAMAC,yCAEA,IAAAC,EAAA3B,wBACAc,MACA,6DAEA,WACA,iDAEAC,IACA,4DAGA,WACA,iDAEAA,IACA,8DAGA,WACA,mDAEAA,IACA,8DAGA,WACA,mDAEAA,IACA,kCAGAA,EACAA,yFAKA,qCACA,uCACAW,YCxHAE,GADiB9B,OAFjB,WAA0B,IAAA+B,EAAA7B,KAAaD,EAAA8B,EAAA5B,eAA0BC,EAAA2B,EAAA1B,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiB4B,YAAA,cAAwB5B,EAAA,OAAY4B,YAAA,cAAyBD,EAAAE,GAAAF,EAAA,mBAAAG,EAAAP,GAAwC,OAAAvB,EAAA,OAAiBoB,IAAAU,EAAAP,EAAAK,YAAA,OAA8BD,EAAAE,GAAA,WAAAP,EAAAV,GAAkC,OAAAZ,EAAA,OAAiBoB,IAAA,MAAAR,EAAAgB,YAAA,MAAAG,MAAAJ,EAAAZ,YAAAQ,EAAA,KAAAD,GAAAU,IAAgFC,MAAA,SAAAC,GAAyBP,EAAAQ,WAAAZ,EAAA,KAAAD,aAAwCK,EAAAS,GAAA,KAAApC,EAAA,OAAyB4B,YAAA,aAAAS,aAAsCC,aAAA,OAAAC,cAAA,SAAyCvC,EAAA,OAAA2B,EAAAS,GAAA,OAAAT,EAAAa,GAAAb,EAAAc,WAAAd,EAAAS,GAAA,KAAApC,EAAA,OAAsE4B,YAAA,cAAwBD,EAAAS,GAAA,uCAAAT,EAAAS,GAAA,KAAApC,EAAA,OAAsE4B,YAAA,cAAwBD,EAAAS,GAAA,gDAErtBhC,oBCCjB,IAuBAsC,EAvBApC,EAAA,OAcAqC,CACAlC,EACAiB,GATA,EAVA,SAAAlB,GACAF,EAAA,SAaA,kBAEA,MAUA,QCtBAsC,EAAA,EAAIC,IAAIC,EAAA,GAER,IAAAC,EAAA,IAAmBD,EAAA,GACjBE,SAEIC,KAAM,IACNC,KAAM,YACNC,UAAWT,MCLjBE,EAAA,EAAIQ,OAAOC,eAAgB,EAG3B,IAAIT,EAAA,GACFU,GAAI,OACJP,SACAQ,YAAcC,IAAAnD,GACdoD,SAAU","file":"static/js/app.ef432456d9a65f316c38.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba1ec4ea\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba1ec4ea\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba1ec4ea\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"container\">\n    <div class=\"game-panel\">\n      <div v-for=\"(row, i) in gamePanel\" :key=\"row + i\" class=\"row\">\n        <div v-for=\"(col, index) in row\" :key=\"'col' + index\" class=\"col\" :class=\"blockColors[i + 1 + '' + col]\" @click=\"cleanBlock(i + 1 + '' + col)\">\n        </div>\n      </div>\n    </div>\n    <div class=\"game-panel\" style=\"margin-top: 10px;line-height: 1.6;\">\n      <div>得分： {{ source }}</div>\n      <div class=\"rule-text\">\n        点击三个以上连续的同色方块即可消除方块\n      </div>\n      <div class=\"rule-text\">\n        Design By Kody & Vivien\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'underscore'\n\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      gamePanel: [9, 9, 9, 9, 9, 9, 9, 9, 9, 9],\n      blockColors: {},\n      colors: ['red', 'yellow', 'blue', 'green'],\n      source: 0\n    }\n  },\n  created () {\n    this.init()\n  },\n  methods: {\n    cleanBlock (index) {\n      let color = this.blockColors[index]\n      if (_.indexOf(this.colors, color) === -1) {\n        return\n      }\n      this.getNeedCleanBlock(parseInt(index), [parseInt(index)])\n      setTimeout(() => {\n        if (this.needCleanBlock.length >= 3) {\n          this.cleaning(this.needCleanBlock)\n          this.source += this.needCleanBlock.length\n        }\n      }, 300)\n    },\n    cleaning (needCleanBlock) {\n      var blockColors = Object.assign({}, this.blockColors)\n      for (const key of needCleanBlock) {\n        blockColors[key] = 'cleared'\n      }\n      this.blockColors = blockColors\n      this.blockDown(needCleanBlock)\n    },\n    blockDown (needCleanBlock) {\n      for (const key of needCleanBlock) {\n        delete this.blockColors[key]\n      }\n      var colBlock = _.groupBy(needCleanBlock, num => {\n        return num % 10\n      })\n      for (const col in colBlock) {\n        let colMin = _.min(colBlock[col])\n        let colMax = _.max(colBlock[col])\n        let length = colMax - colMin === 0 ? 10 : colMax - colMin + 10\n        for (let i = colMin - 10; i > -100; i -= 10) {\n          if (i <= 10) {\n            this.fullBlock(i + length)\n          } else {\n            this.blockColors[i + length] = this.blockColors[i]\n            this.fullBlock(i)\n          }\n        }\n      }\n    },\n    fullBlock (index) {\n      this.blockColors[index] = _.sample(this.colors)\n    },\n    getNeedCleanBlock (index, needCleanBlock) {\n      let color = this.blockColors[index]\n      let hasNeedClearBlock = false\n      if (_.indexOf(needCleanBlock, index + 1) === -1 && color === this.blockColors[index + 1]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index + 1)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index + 1, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index - 1) === -1 && color === this.blockColors[index - 1]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index - 1)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index - 1, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index + 10) === -1 && color === this.blockColors[index + 10]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index + 10)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index + 10, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index - 10) === -1 && color === this.blockColors[index - 10]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index - 10)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index - 10, needCleanBlock)\n        }, 0)\n      }\n      if (!hasNeedClearBlock) {\n        this.needCleanBlock = needCleanBlock\n        return needCleanBlock\n      }\n    },\n    init () {\n      for (const rowInx in this.gamePanel) {\n        for (const col in _.range(this.gamePanel[rowInx])) {\n          let index = (parseInt(rowInx) + 1) + '' + (parseInt(col) + 1)\n          this.blockColors[index] = _.sample(this.colors)\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.game-panel {\n  margin: auto;\n  max-width: 380px;\n}\n\n.row {\n  display: flex;\n}\n\n.col {\n  width: 40px;\n  height: 40px;\n  border: 1px solid #fff;\n  animation: blockClean 1s;\n  background-position: center;\n  background-size: cover;\n}\n\n.cleared {\n  background: #ccc;\n  animation: blockClean 1s;\n}\n\n.red {\n  background-image: url('../assets/bear.jpg');\n}\n\n.yellow {\n  background-image: url('../assets/cat.jpg');\n}\n\n.blue {\n  background-image: url('../assets/chicken.jpg');\n}\n\n.green {\n  background-image: url('../assets/snake.jpg');\n}\n\n.rule-text  {\n  color: #aaa;\n  text-align: center;\n}\n\n@keyframes blockClean {\n  from {background: #ccc;}\n  to {background: #fff;}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Eliminate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"game-panel\"},_vm._l((_vm.gamePanel),function(row,i){return _c('div',{key:row + i,staticClass:\"row\"},_vm._l((row),function(col,index){return _c('div',{key:'col' + index,staticClass:\"col\",class:_vm.blockColors[i + 1 + '' + col],on:{\"click\":function($event){_vm.cleanBlock(i + 1 + '' + col)}}})}))})),_vm._v(\" \"),_c('div',{staticClass:\"game-panel\",staticStyle:{\"margin-top\":\"10px\",\"line-height\":\"1.6\"}},[_c('div',[_vm._v(\"得分： \"+_vm._s(_vm.source))]),_vm._v(\" \"),_c('div',{staticClass:\"rule-text\"},[_vm._v(\"\\n      点击三个以上连续的同色方块即可消除方块\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"rule-text\"},[_vm._v(\"\\n      Design By Kody & Vivien\\n    \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1567f592\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Eliminate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1567f592\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Eliminate.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Eliminate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Eliminate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1567f592\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Eliminate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1567f592\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Eliminate.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Eliminate from '@/components/Eliminate'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'eliminate',\n      component: Eliminate\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}